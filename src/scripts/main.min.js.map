{"version":3,"sources":["main.js"],"names":["$","document","ready","moveElement","element","target","screenSize","append","arguments","length","undefined","after","screen","width","i","eq","appendTo","prependTo","loadScript","url","callback","script","createElement","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","setTimeout","header","headerHeight","height","mobileCategoriesMenu","mobileCategoriesMenuY","mobileCategoriesMenuHeight","headerFixedHeight","offset","top","innerHeight","addClass","removeClass","checkHeader","scrollTop","css","checkVisible","each","shareIsVisible","this","visible","checkMobileCategories","window","parent","removeAttr","addEventListener","passive","querySelector","on","parents","slideUp","slideDown","renderStars","rating","attr","c","find","Math","floor","index","hasClass","e","preventDefault","cartBtn","text","toggleClass","Swiper","loop","slidesPerView","spaceBetween","navigation","nextEl","prevEl","breakpoints","1199","991","600","observer","observeParents","initProductCardSliders","thumbsEl","mainEl","productThumbsSlider","direction","watchSlidesProgress","767","thumbs","swiper","openModal","item","style","cursor","mouseMove","pos","left","x","y","mouseDownHandler","userSelect","scrollLeft","clientX","clientY","mouseMoveHandler","mouseUpHandler","dx","dy","removeProperty","removeEventListener","querySelectorAll","forEach","elem","swipeScroll","split","mapContainer","spinner","mapsToLoad","id","isMultiPoint","init","prepareMap","mapId","multiPoints","mapJsonPath","myGeoObjects","geoObjectsCentersSum","mapCenterCoords","getJSON","data","modalClose","modal","classList","remove","map","geoObject","coords","push","ymaps","Placemark","balloonContent","name","date","link","iconLayout","iconImageHref","toFixed","evt","closest","content","closeBtn","parentElement","previousElementSibling","contentId","getAttribute","dataPin","add","click","cloneNode","container","fragment","createDocumentFragment","closeModalBtn","containerMedia","mediaItem","mediaItemPreview","imageIcon","videoIcon","count","desc","textContent","setAttribute","href","images","alt","thumb","isVideo","removeAttribute","preview","display","keyCode","el","drawModal","myMap","Map","center","zoom","controls","myClusterer","Clusterer","clusterIcons","size","clusterNumbers","clusterIconContentLayout","geoObjects","behaviors","disable","mapLoad","tagName","toLowerCase","isChecked","prop","disableReadMore","elements","hide","siblings","initialFoldedHeight","initialText","submitFilter","choosenOptions","html","get","clearFilter","initialHeight","animate","category","subcategories","has","fadeOut","fadeIn","body","overflow","mouseup","slideToggle","offsetTop","stop","prepend","phone","IMask","mask","definitions","#","elementToScroll","headerPadding","console","log","documentElement","div","overflowY","scrollWidth","offsetWidth","clientWidth","renderClickableBG","isDark","elementToClose","renderParent","blockScroll","padding-right","overflow-y","transition","popup","optionValue","optionsText","customSelect","val","change","bgId","bg","closeModal","next","easyAutocomplete","mobileMenu","catalogMenu","not","is"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    const moveElement = (element, target, screenSize, append = true, after = false) => {\r\n        if (screen.width < screenSize) {\r\n            if (after) {\r\n                for (let i = 0; i < $(element).length; i++) {\r\n                    $(target).eq(i).after($(element).eq($(target).length === 1 ? 0 : i))\r\n                }\r\n            } else {\r\n                if (append) {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).appendTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                } else {\r\n                    for (let i = 0; i < $(element).length; i++) {\r\n                        $(element).eq(i).prependTo($(target).eq($(target).length === 1 ? 0 : i))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    moveElement('.testimonial .rating-box', '.testimonial__content-box--product', 991, false, true);\r\n    moveElement('.testimonial__rm-additional-wrapper', '.testimonial .rating-box', 991, false, true);\r\n    moveElement('.testimonial__answer-box', '.testimonial__rm-additional-wrapper', 991, false, true);\r\n    moveElement('.product-card-main__name', '.product-card-main__inner', 991, false);\r\n    moveElement('.modal__tags-wrapper', '.modal__rating-left', 991, false, true);\r\n    moveElement('.modal .file-upload', '.modal__fields', 991, false, true);\r\n    moveElement('.category-sidebar__categories', '.category-top__container', 991, false, false);\r\n\r\n    function loadScript(url, callback) {\r\n        var script = document.createElement(\"script\");\r\n\r\n        if (script.readyState) { //IE\r\n            script.onreadystatechange = function () {\r\n                if (script.readyState == \"loaded\" ||\r\n                    script.readyState == \"complete\") {\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else {\r\n            script.onload = function () {\r\n                callback();\r\n            };\r\n        }\r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    }\r\n\r\n\r\n\r\n    setTimeout(function () {\r\n        const header = $('.header');\r\n        const headerHeight = header.height();\r\n        const mobileCategoriesMenu = $('.category-sidebar__categories');\r\n        let mobileCategoriesMenuY, mobileCategoriesMenuHeight, headerFixedHeight\r\n        if (mobileCategoriesMenu.length > 0) {\r\n            mobileCategoriesMenuY = mobileCategoriesMenu.offset().top;\r\n            mobileCategoriesMenuHeight = mobileCategoriesMenu.innerHeight();\r\n            header.addClass('fixed');\r\n            headerFixedHeight = header.height();\r\n            header.removeClass('fixed');\r\n        }\r\n\r\n\r\n        const checkHeader = () => {\r\n            if ($(document).scrollTop() >= headerHeight) {\r\n                header.addClass('fixed');\r\n                $('body').css('padding-top', headerHeight);\r\n            } else {\r\n                header.removeClass('fixed');\r\n                $('body').css('padding-top', 0);\r\n            }\r\n        }\r\n\r\n        const checkVisible = () => {\r\n            $('.ya-share2').each(function () {\r\n                let shareIsVisible = false;\r\n                if(!shareIsVisible && $(this).visible())  {\r\n                    shareIsVisible = true;\r\n                    loadScript('https://yastatic.net/share2/share.js', ()=>{})\r\n                }\r\n            })\r\n        }\r\n\r\n        const checkMobileCategories = () => {\r\n            if ($(window).scrollTop() > mobileCategoriesMenuY) {\r\n                mobileCategoriesMenu.addClass('fixed');\r\n                mobileCategoriesMenu.css('top', headerFixedHeight);\r\n                mobileCategoriesMenu.parent().css('padding-top', mobileCategoriesMenuHeight);\r\n            } else {\r\n                mobileCategoriesMenu.removeClass('fixed').removeAttr('style');\r\n                mobileCategoriesMenu.parent().removeAttr('style');\r\n            }\r\n        }\r\n\r\n        checkHeader();\r\n        checkVisible();\r\n        if (screen.width < 992 && mobileCategoriesMenu.length > 0) {\r\n            checkMobileCategories();\r\n        }\r\n\r\n        window.addEventListener('scroll', function () {\r\n            checkHeader();\r\n            checkVisible();\r\n            if (screen.width < 992) {\r\n                checkMobileCategories();\r\n            }\r\n        }, {passive: true});\r\n\r\n        document.querySelector('#modal-quick-view .modal__body').addEventListener('scroll', function () {\r\n            checkVisible();\r\n        }, {passive: true});\r\n\r\n    }, 100)\r\n\r\n    $('.js-close-promo').on('click', function () {\r\n        $(this).parents('.top-promo').slideUp();\r\n    });\r\n\r\n    $('.js-mobile-search-toggle').on('click', function () {\r\n        $('.header__mobile-search').slideDown();\r\n    });\r\n\r\n    $('.js-close-search').on('click', function () {\r\n        $('.header__mobile-search').slideUp();\r\n    });\r\n\r\n    const renderStars = (element) => {\r\n        const rating = element.attr('data-rating');\r\n        let c = 0;\r\n        element.find('.rating-stars__star').removeClass('filled').each(function () {\r\n            if (c < Math.floor(rating)) {\r\n                $(this).addClass('filled');\r\n                c++;\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.js-stars').each(function () {\r\n        renderStars($(this));\r\n    });\r\n\r\n    $(document).on('click', '.js-input-stars .rating-stars__star', function () {\r\n        const parent = $(this).parent('.js-input-stars');\r\n        parent.attr('data-rating', $(this).index() + 1);\r\n        renderStars(parent)\r\n    });\r\n\r\n    $(document).on('click', '.js-close', function () {\r\n        const parent = $(this).parent();\r\n        parent.removeClass('opened');\r\n\r\n        if (screen.width < 768) {\r\n            if (parent.hasClass('color-size-picker')) {\r\n                $(this).parents('.product-slider-redesign').removeClass('arrows-hidden');\r\n            }\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-open-picker', function () {\r\n        $(this).parents('.product-preview').find('.color-size-picker').addClass('opened');\r\n        if (screen.width < 768) {\r\n            $(this).parents('.product-slider-redesign').addClass('arrows-hidden');\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-add-to-cart', function (e) {\r\n        e.preventDefault();\r\n        const parent = $(this).parents('.product-preview');\r\n        const cartBtn = parent.find('.product-preview__add-to-cart');\r\n\r\n        $(this).parents('.color-size-picker').removeClass('opened');\r\n        cartBtn.addClass('active');\r\n        if (parent.hasClass('product-preview--accessory')) {\r\n            cartBtn.text('В корзину')\r\n        }\r\n        if (screen.width < 768) {\r\n            $(this).parents('.product-slider-redesign').removeClass('arrows-hidden');\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-active-toggle', function () {\r\n        $(this).toggleClass('active');\r\n    });\r\n\r\n    $(document).on('click', '.js-only-active-toggle', function () {\r\n        $(this).parent().find('.js-only-active-toggle').removeClass('active')\r\n        $(this).addClass('active');\r\n    });\r\n\r\n    $(document).on('click', '.js-product-card-cart', function (e) {\r\n        e.preventDefault();\r\n        $(this).addClass('active');\r\n        $(this).find('span').text('Перейти в корзину');\r\n    });\r\n\r\n\r\n    // Sliders\r\n\r\n    const productSliderRedesign = new Swiper('.js-product-slider-redesign', {\r\n        loop: true,\r\n        slidesPerView: 1,\r\n        spaceBetween: 0,\r\n\r\n        navigation: {\r\n            nextEl: '.product-slider-redesign__arrow--next',\r\n            prevEl: '.product-slider-redesign__arrow--prev',\r\n        },\r\n\r\n        breakpoints: {\r\n            1199: {\r\n                slidesPerView: 4,\r\n\r\n            },\r\n            991: {\r\n                slidesPerView: 3,\r\n\r\n            },\r\n            600: {\r\n                slidesPerView: 2,\r\n\r\n            },\r\n        }\r\n    });\r\n\r\n    const shopRatingSlider = new Swiper('.js-shop-rating-slider', {\r\n        slidesPerView: 1,\r\n        spaceBetween: 0,\r\n        observer: true,\r\n        observeParents: true,\r\n\r\n        navigation: {\r\n            nextEl: '.shop-rating__arrow--next',\r\n            prevEl: '.shop-rating__arrow--prev',\r\n        },\r\n\r\n        breakpoints: {\r\n            1199: {\r\n                slidesPerView: 2,\r\n\r\n            },\r\n        }\r\n    });\r\n\r\n    const initProductCardSliders = (thumbsEl, mainEl) => {\r\n        const productThumbsSlider = new Swiper(thumbsEl, {\r\n            slidesPerView: 3,\r\n            spaceBetween: 10,\r\n            direction: \"horizontal\",\r\n            watchSlidesProgress: true,\r\n            observer: true,\r\n            observeParents: true,\r\n\r\n            navigation: {\r\n                nextEl: '.product-card-main__arrow--next',\r\n                prevEl: '.product-card-main__arrow--prev',\r\n            },\r\n\r\n            breakpoints: {\r\n                767: {\r\n                    slidesPerView: 4,\r\n                    spaceBetween: 20,\r\n                    direction: \"vertical\",\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        const productMainSlider = new Swiper(mainEl, {\r\n            slidesPerView: 1,\r\n            thumbs: {\r\n                swiper: productThumbsSlider,\r\n            }\r\n        });\r\n    }\r\n\r\n    $('.js-product-thumbs-slider').each(function () {\r\n        initProductCardSliders(\r\n            $(this)[0],\r\n            $(this).parents('.product-card-main__gallery')\r\n                .find('.js-product-main-slider')[0]\r\n        )\r\n    })\r\n\r\n    $(document).on('click', '.js-quick-view', function () {\r\n        openModal($('#modal-quick-view'), 'modal-bg');\r\n        initProductCardSliders(\r\n            $('#modal-quick-view .js-product-thumbs-slider-modal')[0],\r\n            $('#modal-quick-view .js-product-main-slider-modal')[0])\r\n    });\r\n\r\n    function swipeScroll(element, item) {\r\n        if (item !== null) {\r\n            item.style.cursor = 'grab';\r\n            let mouseMove = false;\r\n\r\n            let pos = {top: 0, left: 0, x: 0, y: 0};\r\n\r\n            const mouseDownHandler = function (e) {\r\n                item.style.cursor = 'grabbing';\r\n                item.style.userSelect = 'none';\r\n\r\n                pos = {\r\n                    left: item.scrollLeft,\r\n                    top: item.scrollTop,\r\n                    x: e.clientX,\r\n                    y: e.clientY,\r\n                };\r\n\r\n                document.addEventListener('mousemove', mouseMoveHandler);\r\n                document.addEventListener('mouseup', mouseUpHandler);\r\n            };\r\n\r\n            const mouseMoveHandler = function (e) {\r\n                const dx = e.clientX - pos.x;\r\n                const dy = e.clientY - pos.y;\r\n\r\n                item.scrollTop = pos.top - dy;\r\n                item.scrollLeft = pos.left - dx;\r\n                mouseMove = true;\r\n            };\r\n\r\n            const mouseUpHandler = function (e) {\r\n                item.style.cursor = 'grab';\r\n                item.style.removeProperty('user-select');\r\n\r\n                document.removeEventListener('mousemove', mouseMoveHandler);\r\n                document.removeEventListener('mouseup', mouseUpHandler);\r\n            };\r\n\r\n\r\n            item.querySelectorAll(element + '> *').forEach(function (elem) {\r\n                elem.addEventListener('click', function (e) {\r\n                    if (mouseMove) {\r\n                        e.preventDefault();\r\n                    }\r\n                    mouseMove = false;\r\n                })\r\n\r\n            });\r\n\r\n            $(document).on(\"dragstart\", element, function () {\r\n                return false;\r\n            });\r\n\r\n            item.addEventListener('mousedown', mouseDownHandler);\r\n        }\r\n    }\r\n\r\n    if (screen.width > 1199) {\r\n        $('.js-swipe-scroll').each(function () {\r\n            swipeScroll(`.${$(this).attr(\"class\").split(/\\s+/)[0]}`, $(this)[0]);\r\n        })\r\n        $('.js-swipe-scroll > *').attr('draggable', 'false');\r\n        $('.js-swipe-scroll img').attr('draggable', 'false');\r\n    }\r\n\r\n    // Maps\r\n    (function () {\r\n        var mapContainer = document.querySelector('.our-works__map');\r\n\r\n        if (!mapContainer) {\r\n            return;\r\n        }\r\n\r\n        var spinner = mapContainer.querySelector('.loader');\r\n\r\n        let mapsToLoad = [{\r\n            id: 'works-map',\r\n            isMultiPoint: true\r\n        }]\r\n\r\n        function init() {\r\n            // Создание карт.\r\n            function prepareMap(mapId, multiPoints = false) {\r\n\r\n                let mapJsonPath = $('#' + mapId).attr('data-json')\r\n                let myGeoObjects = [];\r\n                let geoObjectsCentersSum = [0, 0];\r\n                let mapCenterCoords = [0, 0];\r\n\r\n                $.getJSON(mapJsonPath, function (data) {\r\n                    data.map(function (geoObject) {\r\n                        geoObjectsCentersSum[0] += geoObject.coords[0];\r\n                        geoObjectsCentersSum[1] += geoObject.coords[1];\r\n\r\n                        myGeoObjects\r\n                            .push(new ymaps.Placemark(geoObject.coords, {\r\n                                balloonContent: `<div class=\"our-works__bubble\" data-id=\"${geoObject.id}\">\r\n                                                <div class=\"our-works__name\">${geoObject.name}</div>\r\n                                                <div class=\"our-works__date\">${geoObject.date}</div>\r\n                                                <a class=\"our-works__map-link\" href=\"${geoObject.link}\">Подробнее</a>\r\n                                            </div>`\r\n                            }, {\r\n                                iconLayout: 'default#image',\r\n                                iconImageHref: 'img/svg/marker.svg',\r\n                            }))\r\n                    })\r\n\r\n                    //Считаем центр карты\r\n                    if (multiPoints) {\r\n                        mapCenterCoords[0] = +(geoObjectsCentersSum[0] / data.length).toFixed(4);\r\n                        mapCenterCoords[1] = +(geoObjectsCentersSum[1] / data.length).toFixed(4);\r\n                    } else {\r\n                        mapCenterCoords = geoObjectsCentersSum;\r\n                    }\r\n\r\n                    function modalClose(modal) {\r\n                        document.querySelector('body').classList.remove('scroll-hidden');\r\n                        modal.remove()\r\n                    }\r\n\r\n                    function drawModal(data) {\r\n                        var modal = document.querySelector('#works-map-template').content.querySelector('.works-modal').cloneNode(true);\r\n                        var container = document.querySelector('.our-works__map');\r\n                        var fragment = document.createDocumentFragment();\r\n\r\n                        if (!modal) {\r\n                            return;\r\n                        }\r\n\r\n                        var closeModalBtn = modal.querySelector('.works-modal__close');\r\n                        var containerMedia = modal.querySelector('.our-project__img');\r\n                        var mediaItem = containerMedia.querySelector('a');\r\n                        var mediaItemPreview = mediaItem.querySelector('img');\r\n                        var imageIcon = mediaItem.querySelector('.icon-photo-camera');\r\n                        var videoIcon = mediaItem.querySelector('.icon-play-btn');\r\n                        var count = mediaItem.querySelector('.our-project__img-num');\r\n\r\n                        data.desc ? modal.querySelector('.our-project__desc').textContent = data.desc : '';\r\n                        data.name ? modal.querySelector('.our-project__title').textContent = data.name : '';\r\n                        data.date ? modal.querySelector('.our-project__date').textContent = data.date : '';\r\n                        containerMedia.setAttribute('data-count', data.count);\r\n                        mediaItem.href = data.images[0].link;\r\n                        mediaItem.setAttribute('data-fancybox', 'works-map-' + data.id);\r\n                        mediaItemPreview.alt = data.name;\r\n                        mediaItemPreview.src = data.images[0].thumb;\r\n                        count.textContent = data.count;\r\n\r\n                        if (data.images[0].isVideo === true) {\r\n                            imageIcon.remove();\r\n                        } else {\r\n                            videoIcon.remove();\r\n                            mediaItem.removeAttribute('data-video-project');\r\n                        }\r\n\r\n                        for (var i = 1; i < data.images.length; i++) {\r\n                            var item = mediaItem.cloneNode(true);\r\n                            var preview = item.querySelector('img');\r\n\r\n                            item.querySelector('.our-project__cover').remove();\r\n                            item.href = data.images[i].link;\r\n                            preview.src = data.images[i].thumb;\r\n                            preview.style.display = 'none';\r\n                            if (data.images[i].isVideo !== true) {\r\n                                item.removeAttribute('data-video-project');\r\n                            }\r\n\r\n                            containerMedia.appendChild(item);\r\n                        }\r\n\r\n                        document.addEventListener('click', function (evt) {\r\n\r\n                            if (evt.target.closest('.fancybox-stage') && !evt.target.closest('.fancybox-content')) {\r\n                                modalClose(modal);\r\n                            }\r\n                            if (evt.target.closest('.works-modal') && !evt.target.closest('.works-modal__content')) {\r\n                                modalClose(modal);\r\n                            }\r\n                        });\r\n\r\n                        document.addEventListener('keydown', function (evt) {\r\n                            if (evt.keyCode === 27) {\r\n                                modalClose(modal);\r\n                            }\r\n                        });\r\n\r\n                        containerMedia.addEventListener('click', function () {\r\n                            function onBoxClickBtn() {\r\n                                var boxCloseBtn = document.querySelector('.fancybox-button--close');\r\n                                boxCloseBtn.addEventListener('click', function () {\r\n                                    modalClose(modal);\r\n                                });\r\n                            }\r\n\r\n                            setTimeout(onBoxClickBtn, 50);\r\n                        });\r\n\r\n                        closeModalBtn.addEventListener('click', function () {\r\n                            var el = document.querySelector('.works-modal');\r\n                            if (el !== null) {\r\n                                modalClose(el);\r\n                            }\r\n                        });\r\n\r\n                        modal.classList.add('active');\r\n\r\n                        fragment.appendChild(modal);\r\n                        container.appendChild(fragment);\r\n                    }\r\n\r\n                    document.addEventListener('click', function (evt) {\r\n                        if (evt.target.closest('.our-works__map-link')) {\r\n                            var content = document.querySelector('.our-works__bubble');\r\n                            var container = content.parentElement.parentElement.parentElement;\r\n                            var closeBtn = container.previousElementSibling;\r\n                            var contentId = content.getAttribute('data-id');\r\n                            var dataPin = data.find(item => item.id == contentId);\r\n                            document.querySelector('body').classList.add('scroll-hidden');\r\n                            evt.preventDefault();\r\n                            closeBtn.click();\r\n                            drawModal(dataPin);\r\n                        }\r\n                    });\r\n\r\n                    var myMap = new ymaps.Map(mapId, {\r\n                        center: mapCenterCoords,\r\n                        zoom: 4,\r\n                        controls: ['zoomControl'],\r\n                    });\r\n\r\n                    //Если будет много точек на карте, делаем кластерезацию\r\n                    if (multiPoints) {\r\n\r\n\r\n                        var myClusterer = new ymaps.Clusterer({\r\n                            clusterIcons: [\r\n                                {\r\n                                    href: 'img/svg/marker.svg',\r\n                                    size: [40, 40],\r\n                                    offset: [-20, -20]\r\n                                },\r\n                                {\r\n                                    href: 'img/svg/marker.svg',\r\n                                    size: [50, 50],\r\n                                    offset: [-30, -30]\r\n                                }],\r\n                            clusterNumbers: [10],\r\n                            clusterIconContentLayout: null\r\n                        });\r\n                        myClusterer.add(myGeoObjects);\r\n                        myMap.geoObjects.add(myClusterer);\r\n                    }\r\n\r\n                    //Если будет одна точка на карте, просто добавляем её\r\n                    else {\r\n                        myMap.geoObjects.add(myGeoObjects[0]);\r\n                    }\r\n\r\n                    myMap.behaviors.disable('scrollZoom');\r\n                });\r\n            }\r\n\r\n            mapsToLoad.forEach(item => {\r\n                if ($('#' + item.id).length > 0) {\r\n                    prepareMap(item.id, item.isMultiPoint)\r\n                }\r\n            })\r\n\r\n            mapContainer.querySelector('.placeholder').style.display = \"none\";\r\n\r\n            if (spinner) {\r\n                spinner.classList.remove('is-active');\r\n            }\r\n        }\r\n\r\n        function mapLoad() {\r\n            mapContainer.removeEventListener('mouseenter', mapLoad);\r\n            const spinner = mapContainer.querySelector('.loader');\r\n            if (spinner) {\r\n                spinner.classList.add('is-active');\r\n            }\r\n            loadScript(\"https://api-maps.yandex.ru/2.1/?apikey=04709a29-6f21-442a-9cb5-272b39900456&lang=ru_RU\", function () {\r\n                ymaps.ready(init);\r\n            });\r\n        }\r\n\r\n        mapContainer.addEventListener('mouseenter', mapLoad);\r\n    })();\r\n\r\n\r\n    $('.js-checkbox').on('click', function (e) {\r\n        if (e.target.tagName.toLowerCase() !== 'a') {\r\n            e.preventDefault()\r\n            let isChecked = $(this).find('input[type=\"checkbox\"]').prop('checked');\r\n            $(this).toggleClass('checked').find('.custom-cb-badge, .custom-cb-badge-allow').toggleClass('checked');\r\n            $(this).find('input[type=\"checkbox\"]').prop('checked', !isChecked);\r\n        }\r\n    });\r\n\r\n    const disableReadMore = (elements, height) => {\r\n        if (elements.length > 0) {\r\n            elements.each(function () {\r\n                const parent = $(this).parents('.js-read-more-wrapper');\r\n                if ($(this).height() < height) {\r\n                    parent.css('height', 'auto');\r\n                    parent.find('.js-read-more-toggle').hide();\r\n                    parent.siblings('.js-read-more-toggle').hide();\r\n                    parent.find('.read-more-bg').hide();\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    disableReadMore($('.catalog-tags .js-read-more-container'), 70);\r\n    disableReadMore($('.testimonial .js-read-more-container'), 240);\r\n\r\n    let initialFoldedHeight;\r\n    let initialText;\r\n\r\n    $(document).on('click', '.js-read-more-toggle', function () {\r\n        const parent = $(this).parent('.js-read-more-wrapper').length > 0 ?\r\n            $(this).parent('.js-read-more-wrapper') :\r\n            $(this).parent('.js-read-more-additional-wrapper').find('.js-read-more-wrapper');\r\n        let initialHeight = parent.find('.js-read-more-container').height();\r\n\r\n        if (!$(this).hasClass('opened')) {\r\n            parent.addClass('opened')\r\n            initialFoldedHeight = parent.height();\r\n            initialText = $(this).text()\r\n            parent.animate({\r\n                height: initialHeight + (screen.width < 991 ? 30 : 0)\r\n            }, 300);\r\n            $(this).addClass('opened');\r\n            $(this).text('Свернуть');\r\n        } else {\r\n            parent.removeClass('opened')\r\n            parent.animate({\r\n                height: initialFoldedHeight + (screen.width < 991 ? 30 : 0)\r\n            }, 300);\r\n            $(this).removeClass('opened');\r\n            $(this).text(initialText);\r\n        }\r\n    });\r\n\r\n    $('.js-subcategory-toggle').on('click', function () {\r\n        const category = $(this).parent('.category-sidebar__category');\r\n        const subcategories = category.siblings('.category-sidebar__subcategories');\r\n        if (category.hasClass('opened')) {\r\n            category.removeClass('opened');\r\n            subcategories.slideUp(function () {\r\n                subcategories.removeClass('opened');\r\n            });\r\n        } else {\r\n            category.addClass('opened');\r\n            subcategories.slideDown();\r\n            subcategories.addClass('opened');\r\n        }\r\n    });\r\n\r\n    // показываем скрываем списки с опциями\r\n    $('.product-filters__item').on('click', '.product-filters__control', function (e) {\r\n        if ($('.product-filters__clean').has(e.target).length) {\r\n            clearFilter($(this).parent())\r\n        } else {\r\n            if (!$(this).parent().hasClass('is-active')) {\r\n                $(this).parent().addClass('is-active');\r\n                if ($(window).width() > 768) {\r\n                    $(this).parent().siblings('.is-active').find('.product-filters__list').fadeOut();\r\n                    $(this).parent().siblings('.is-active').removeClass('is-active');\r\n                }\r\n                submitFilter($(this).parent().siblings('.is-active'));\r\n                $(this).parent().find('.product-filters__list').fadeIn();\r\n            } else {\r\n                submitFilter($(this).parent())\r\n                $(this).parent().removeClass('is-active');\r\n                $(this).parent().find('.product-filters__list').fadeOut();\r\n            }\r\n        }\r\n    });\r\n    // Сбрасываем все фильтры\r\n    $('.product-filters').on('click', '.product-filters__clear-all', function () {\r\n        $('.product-filters__item.is-choosen').each(function () {\r\n            clearFilter($(this));\r\n        });\r\n        if ($(window).width() > 768) {\r\n            $(this).remove()\r\n        }\r\n    });\r\n// кнопка применить в мобильной версии\r\n    $('.product-filters__mob-submit').on('click', function () {\r\n        $('.product-filters').removeClass('is-active');\r\n        document.body.style.overflow = 'visible';\r\n        var container = $(\".product-filters__item.is-active\");\r\n        submitFilter(container);\r\n    });\r\n\r\n// Выбираем параметры, считаем количество выбранных опций, добавляем кнопку очистки отдельного фильтра и всех фильтров\r\n    function submitFilter(item) {\r\n        const choosenOptions = item.find('input[type=\"checkbox\"]:checked').length;\r\n        if (!$('.product-filters__clear-all').length && choosenOptions && $(window).width() > 768) {\r\n            $('.product-filters').append(\"<button type='button' class='product-filters__clear-all'>Сбросить</button>\")\r\n        }\r\n        if (choosenOptions) {\r\n            item.addClass('is-choosen');\r\n            if (!item.find('.product-filters__choosen-num').length && !item.find('.product-filters__clean').length) {\r\n                item.find('.product-filters__control')\r\n                    .append('<span class=\"product-filters__choosen-num\">(' + choosenOptions + ')</span>')\r\n                    .append('<span class=\"product-filters__clean\"><svg width=\"8\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" height=\"8\" viewBox=\"0 0 64 64\" >\\n' +\r\n                        '<path fill=\"#fff\" d=\"M28.941,31.786L0.613,60.114c-0.787,0.787-0.787,2.062,0,2.849c0.393,0.394,0.909,0.59,1.424,0.59   c0.516,0,1.031-0.196,1.424-0.59l28.541-28.541l28.541,28.541c0.394,0.394,0.909,0.59,1.424,0.59c0.515,0,1.031-0.196,1.424-0.59   c0.787-0.787,0.787-2.062,0-2.849L35.064,31.786L63.41,3.438c0.787-0.787,0.787-2.062,0-2.849c-0.787-0.786-2.062-0.786-2.848,0   L32.003,29.15L3.441,0.59c-0.787-0.786-2.061-0.786-2.848,0c-0.787,0.787-0.787,2.062,0,2.849L28.941,31.786z\"/>\\n' +\r\n                        '</svg></span>');\r\n            } else {\r\n                item.find('.product-filters__choosen-num').html('(' + choosenOptions + ')');\r\n            }\r\n        } else {\r\n            item.find('.product-filters__control').html(item.find('.product-filters__name').get(0));\r\n            item.removeClass('is-choosen');\r\n            if (!$('.product-filters').find('.is-choosen').length && $(window).width() > 768) {\r\n                $('.product-filters__clear-all').remove();\r\n                //applyFilter();\r\n            }\r\n        }\r\n    }\r\n\r\n    // Чистим отдельный фильтр\r\n    function clearFilter(item) {\r\n        item.find('.product-filters__control').html(item.find('.product-filters__name').get(0));\r\n        item.find('input[type=checkbox]').prop('checked', false);\r\n        item.removeClass('is-choosen');\r\n    }\r\n\r\n    // Закрываем по клику за пределами фильтра\r\n    $(document).mouseup(function (e) {\r\n        if ($(window).width() > 768) {\r\n            var container = $(\".product-filters__item.is-active\");\r\n            if (container.has(e.target).length === 0) {\r\n                submitFilter(container)\r\n                container.removeClass('is-active');\r\n                container.find('.product-filters__list').fadeOut();\r\n            }\r\n        }\r\n    });\r\n\r\n    if ($(window).width() < 767) {\r\n        $('.mobile-filters.mobile-filters--sort').append($('.js-sort'));\r\n        $('.mobile-filters__categories').append($('.category-tags__list'));\r\n        $('.mobile-filters__tags').append($('.js-tags-filter'));\r\n        $(document).on('click', '.js-categories-toggle', function (e) {\r\n            e.preventDefault();\r\n            $(this).parent().find('.category-tags__list').slideToggle();\r\n            $(this).parents('.mobile-filters__categories').toggleClass('is-active');\r\n        });\r\n\r\n        $(document).on('click', '.js-tabs-toggle', function (e) {\r\n            e.preventDefault();\r\n            var href = $(this).attr(\"href\"),\r\n                offsetTop = href === \"#\" ? 0 : $(href).offset().top;\r\n            $('html, body').stop().animate({\r\n                scrollTop: offsetTop\r\n            }, 1000);\r\n        });\r\n        $(document).on('click', '.js-tags-toggle', function (e) {\r\n            e.preventDefault();\r\n            document.body.style.overflow = 'hidden';\r\n            $('.product-filters').addClass('is-active');\r\n            if (!$('.js-close-product-filters').length) {\r\n                $('.product-filters').prepend('<button class=\"js-close-product-filters close-product-filters\" type=\"button\"><svg class=\"icon icon-cross\"><use xlink:href=\"/img/svg/sprite.svg#cross\"></use></svg></button>')\r\n\r\n            }\r\n        });\r\n\r\n        $(document).on('click', '.js-close-product-filters', function (e) {\r\n            document.body.style.overflow = 'visible';\r\n            $('.product-filters').removeClass('is-active');\r\n        });\r\n    }\r\n\r\n    $(document).on('click', '.js-answer-toggle', function () {\r\n        $(this).siblings('.testimonial__answer').slideToggle();\r\n    });\r\n\r\n    const phones = document.querySelectorAll(\"input[type='tel']\");\r\n\r\n    phones.forEach(function (phone) {\r\n        const phoneMask = IMask(phone, {\r\n            mask: [\r\n                {\r\n                    mask: '{#} (000) 000-00-00',\r\n                    definitions: {\r\n                        '#': /[8]/\r\n                    }\r\n                },\r\n                {\r\n                    mask: '{+#} (000) 000-00-00',\r\n                    definitions: {\r\n                        '#': /[+7]/\r\n                    }\r\n                },\r\n                {\r\n                    mask: '{+###} (000) 000-00-00',\r\n                    definitions: {\r\n                        '#': /[+35780]/\r\n                    }\r\n                },\r\n                {\r\n                    mask: '+{#}0000000000000',\r\n                    definitions: {\r\n                        '#': /[1245690]/\r\n                    }\r\n                },\r\n            ]\r\n        });\r\n    });\r\n\r\n    $('.js-scroll-to').on('click', function (e) {\r\n        e.preventDefault();\r\n        const elementToScroll = $($(this).attr('href'));\r\n        let headerPadding = 147;\r\n        if (screen.width < 991 && screen.width > 600) {\r\n            headerPadding = 124;\r\n        } else if (screen.width < 600) {\r\n            headerPadding = 105;\r\n        }\r\n        console.log(headerPadding);\r\n\r\n        if (elementToScroll.hasClass('accordion-section')) {\r\n            elementToScroll.find('.js-accordion-toggle').addClass('active');\r\n            elementToScroll.find('.js-accordion-content').addClass('opened');\r\n        }\r\n\r\n        $([document.documentElement, document.body]).scrollTop( elementToScroll.offset().top - headerPadding)\r\n\r\n    });\r\n\r\n    /*--Overflow scroll glitch fix---*/\r\n\r\n    let div = document.createElement('div');\r\n\r\n    div.style.overflowY = 'scroll';\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n\r\n    document.body.append(div);\r\n    const scrollWidth = div.offsetWidth - div.clientWidth;\r\n    div.remove();\r\n\r\n    const renderClickableBG = (isDark, elementToClose, id, renderParent = $('body'), blockScroll = true) => {\r\n        renderParent.append(`<div class=\"clickable-bg\" id=${id}></div>`);\r\n        if (blockScroll) {\r\n            $('body').css({\r\n                'padding-right': scrollWidth,\r\n                'overflow-y': 'hidden',\r\n            });\r\n            $('.header.fixed').css({\r\n                'transition': 'none',\r\n                'width' : `calc(100% - ${scrollWidth}px)`\r\n            })\r\n        }\r\n        if (isDark) {\r\n            $('.clickable-bg').addClass('clickable-bg--dark').fadeOut(1).fadeIn(400);\r\n        }\r\n        $(document).on('click', '.clickable-bg', function () {\r\n            $(this).remove();\r\n            if (elementToClose) {\r\n                elementToClose.removeClass('opened');\r\n                if (blockScroll) {\r\n                    $('body').css({\r\n                        'padding-right': 0,\r\n                        'overflow-y': 'auto',\r\n                    });\r\n                    $('.header.fixed').css({\r\n                        'width' : '100%',\r\n                    })\r\n                    setTimeout(function () {\r\n                        $('.header.fixed').css({\r\n                            'transition' : '.1s ease-in-out',\r\n                        }, 200)\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    $(document).on('click', '.js-open-popup', function () {\r\n        $('.js-open-popup').removeClass('opened');\r\n        let popup = $(this).parent().find('.js-popup');\r\n        popup.toggleClass('opened');\r\n        renderClickableBG(false, popup, 'popup-bg', $('body'), false);\r\n    });\r\n\r\n    $(document).on('click', '.js-custom-select .custom-select-option', function () {\r\n        const optionValue = $(this).attr('data-value');\r\n        const optionsText = $(this).text();\r\n        const customSelect = $(this).parents('.js-custom-select');\r\n        customSelect.find('.custom-select__value').text(optionsText);\r\n        setTimeout(function () {\r\n            $('.clickable-bg').remove();\r\n        }, 50);\r\n        customSelect.find('option').each(function () {\r\n            if ($(this).attr('value') === optionValue) {\r\n                customSelect.find('select').val($(this).attr('value')).change();\r\n            }\r\n        })\r\n    });\r\n\r\n    // Modals\r\n\r\n    const openModal = (modal, bgId) => {\r\n        $('.modal').removeClass('opened');\r\n        $(bgId).remove();\r\n        modal.addClass('opened');\r\n        renderClickableBG(true, modal, bgId, modal)\r\n    }\r\n\r\n    const closeModal = (modal, bg=null) => {\r\n        modal.removeClass('opened');\r\n        if (bg) {\r\n            bg.remove();\r\n        }\r\n        $('body').css({\r\n            'padding-right': 0,\r\n            'overflow-y': 'auto',\r\n        });\r\n        $('.header.fixed').css({\r\n            'width' : '100%',\r\n        })\r\n        setTimeout(function () {\r\n            $('.header.fixed').css({\r\n                'transition' : '.1s ease-in-out',\r\n            }, 200)\r\n        })\r\n    }\r\n\r\n    $(document).on('click', '.js-open-modal', function (e) {\r\n        e.preventDefault();\r\n        const modal = $($(this).attr('data-modal'));\r\n        openModal(modal, 'modal-bg')\r\n    });\r\n\r\n    $(document).on('click', '.js-close-modal', function () {\r\n        const modal = $(this).parents('.modal');\r\n        const bg = $(this).parents('.modal').find('#modal-bg');\r\n        closeModal(modal, bg);\r\n    });\r\n\r\n    // Accordion\r\n    $(document).on('click', '.js-accordion-toggle', function () {\r\n        $(this).toggleClass('active');\r\n        $(this).next('.js-accordion-content').slideToggle(300, function () {\r\n            $(this).toggleClass('opened');\r\n        });\r\n    });\r\n\r\n    const options = {\r\n        data: [\"Москва\", \"Пятигорск\", \"Ростов\", \"Краснодар\", \"Якутск\"],\r\n    };\r\n\r\n    $(\"#tes3\").easyAutocomplete(options);\r\n\r\n    $(document).on('change', '.js-file-upload', function () {\r\n        $(this).siblings('.file-upload__upload-text').text('Файлы загружены')\r\n    });\r\n\r\n    $(document).on('click', '.js-mobile-menu-toggle', function () {\r\n        const mobileMenu = $('.mobile-menu');\r\n        if (!mobileMenu.hasClass('opened')) {\r\n            mobileMenu.toggleClass('opened');\r\n            renderClickableBG(true, mobileMenu, 'mobile-menu-bg', mobileMenu, true);\r\n        } else {\r\n            mobileMenu.removeClass('opened');\r\n            $('#mobile-menu-bg').remove();\r\n            $('body').css({\r\n                'padding-right': 0,\r\n                'overflow-y': 'auto',\r\n            });\r\n            $('.header.fixed').css({\r\n                'width' : '100%',\r\n            })\r\n            setTimeout(function () {\r\n                $('.header.fixed').css({\r\n                    'transition' : '.1s ease-in-out',\r\n                }, 200)\r\n            })\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-submenu-toggle', function (e) {\r\n        e.preventDefault();\r\n\r\n        if (!$(this).hasClass('active')) {\r\n            $(this).addClass('active')\r\n            $(this).parent().addClass('active').siblings('.js-submenu').slideDown().addClass('opened');\r\n        } else {\r\n            $(this).removeClass('active')\r\n            $(this).parent().removeClass('active').siblings('.js-submenu').slideUp().removeClass('opened');\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-category-mobile-toggle', function () {\r\n        if (!$(this).hasClass('opened')) {\r\n            $(this).siblings('.category-sidebar__category-items').slideDown();\r\n            $(this).addClass('opened');\r\n        } else {\r\n            $(this).siblings('.category-sidebar__category-items').slideUp();\r\n            $(this).removeClass('opened');\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-catalog-menu-toggle', function () {\r\n        const catalogMenu = $('.catalog-menu');\r\n        if (!catalogMenu.hasClass('opened')) {\r\n            catalogMenu.slideDown(150, function () {\r\n                catalogMenu.removeAttr('style');\r\n            });\r\n            catalogMenu.addClass('opened');\r\n            renderClickableBG (false, catalogMenu, 'catalog-menu-bg', catalogMenu, true);\r\n        } else {\r\n            catalogMenu.slideUp(150, function () {\r\n                catalogMenu.removeClass('opened');\r\n            });\r\n            $('#catalog-menu-bg').remove();\r\n            $('body').css({\r\n                'padding-right': 0,\r\n                'overflow-y': 'auto',\r\n            });\r\n            $('.header.fixed').css({\r\n                'width' : '100%',\r\n            })\r\n            setTimeout(function () {\r\n                $('.header.fixed').css({\r\n                    'transition' : '.1s ease-in-out',\r\n                }, 200)\r\n            })\r\n        }\r\n    });\r\n\r\n    $(document).on('mouseenter', '.js-catalog-submenu-toggle', function () {\r\n        $('.catalog-menu__submenu-box.opened')\r\n            .not($(this).find('.catalog-menu__submenu-box'))\r\n            .not($(this).parents('.catalog-menu__submenu-box')).removeClass('opened');\r\n        $(this).find('.catalog-menu__submenu-box').eq(0).addClass('opened');\r\n    });\r\n\r\n    $(document).on('mouseleave', '.js-catalog-submenu-toggle', function () {\r\n        setTimeout( () => {\r\n            if (!$(this).is(':hover') && $(this).find('.catalog-menu__submenu-box:hover').length === 0) {\r\n                $(this).find('.catalog-menu__submenu-box').removeClass('opened');\r\n            }\r\n        }, 350);\r\n    });\r\n\r\n    $(document).on('mouseleave', '.catalog-menu__inner', function () {\r\n        const catalogMenu = $('.catalog-menu');\r\n\r\n        setTimeout(() => {\r\n            if (!$(this).is(':hover')) {\r\n                catalogMenu.slideUp(function () {\r\n                    catalogMenu.removeClass('opened');\r\n                });\r\n                $('#catalog-menu-bg').remove();\r\n                $('body').css({\r\n                    'padding-right': 0,\r\n                    'overflow-y': 'auto',\r\n                });\r\n                $('.header.fixed').css({\r\n                    'width' : '100%',\r\n                })\r\n                setTimeout(function () {\r\n                    $('.header.fixed').css({\r\n                        'transition' : '.1s ease-in-out',\r\n                    }, 200)\r\n                })\r\n            }\r\n        }, 350)\r\n    });\r\n\r\n    if (screen.width < 1101) {\r\n        $('.footer__nav-title').removeClass('active');\r\n        $('.footer__nav-items').removeClass('opened');\r\n    }\r\n})\r\n\r\n\r\n"]}